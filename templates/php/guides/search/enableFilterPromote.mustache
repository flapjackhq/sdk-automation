<?php

require __DIR__ . '/../vendor/autoload.php';

use Flapjack\FlapjackSearch\Model\Search\Anchoring;
use Flapjack\FlapjackSearch\Model\Search\Condition;
use Flapjack\FlapjackSearch\Model\Search\Consequence;
use Flapjack\FlapjackSearch\Model\Search\Rule;

$condition = (new Condition())
  ->setAnchoring((new Anchoring())::IS)
  ->setPattern('{facet:brand}');

$consequence = (new Consequence())
  ->setFilterPromotes(true);

$rule = (new Rule())
  ->setObjectID('rule_with_filterPromotes')
  ->setConditions([$condition])
  ->setConsequence($consequence);